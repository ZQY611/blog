<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>es6_Number | 个人博客 | BCH</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="es6">
    <meta name="description" content="ES6 数值的扩展二进制和八进制表示法ES6 提供了二进制和八进制数值的新的写法，分别用前缀 0b（或 0B）和 0o（或 0O）表示。 120b111110111 === 503 // true0o767 === 503 // true 从 ES5 开始，在严格模式之中，八进制就不再允许使用前缀 0 表示，ES6 进一步明确，要使用前缀 0o 表示。 12345678910// 非严格模式(fu">
<meta name="keywords" content="es6">
<meta property="og:type" content="article">
<meta property="og:title" content="es6_Number">
<meta property="og:url" content="http://blog.bochunhao.cn/2019/01/15/es6-Number/index.html">
<meta property="og:site_name" content="个人博客">
<meta property="og:description" content="ES6 数值的扩展二进制和八进制表示法ES6 提供了二进制和八进制数值的新的写法，分别用前缀 0b（或 0B）和 0o（或 0O）表示。 120b111110111 === 503 // true0o767 === 503 // true 从 ES5 开始，在严格模式之中，八进制就不再允许使用前缀 0 表示，ES6 进一步明确，要使用前缀 0o 表示。 12345678910// 非严格模式(fu">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-03-27T14:49:32.017Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="es6_Number">
<meta name="twitter:description" content="ES6 数值的扩展二进制和八进制表示法ES6 提供了二进制和八进制数值的新的写法，分别用前缀 0b（或 0B）和 0o（或 0O）表示。 120b111110111 === 503 // true0o767 === 503 // true 从 ES5 开始，在严格模式之中，八进制就不再允许使用前缀 0 表示，ES6 进一步明确，要使用前缀 0o 表示。 12345678910// 非严格模式(fu">
    
        <link rel="alternate" type="application/atom+xml" title="个人博客" href="/atom.xml">
    
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="/css/style.css?v=1.7.2">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/loggo.png">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">BCH</h5>
          <a href="mailto:17600280987@163.com" title="17600280987@163.com" class="mail">17600280987@163.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/">
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories">
                <i class="icon icon-lg icon-archives"></i>
                分类
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags">
                <i class="icon icon-lg icon-tags"></i>
                标签
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/bch9479/blog" target="_blank">
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://weibo.com/5900743344/profile?rightmod=1&wvr=6&mod=personinfo" target="_blank">
                <i class="icon icon-lg icon-weibo"></i>
                微博
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">es6_Number</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">es6_Number</h1>
        <h5 class="subtitle">
            
                <time datetime="2019-01-15T14:26:00.000Z" itemprop="datePublished" class="page-time">
  2019-01-15
</time>


            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ES6-数值的扩展"><span class="post-toc-number">1.</span> <span class="post-toc-text">ES6 数值的扩展</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#二进制和八进制表示法"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">二进制和八进制表示法</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Number-isFinite-Number-isNaN"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">Number.isFinite(), Number.isNaN()</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Number-parseInt-Number-parseFloat"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">Number.parseInt(), Number.parseFloat()</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Number-isInteger"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">Number.isInteger()</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Number-EPSILON"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">Number.EPSILON</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#安全整数和-Number-isSafeInteger"><span class="post-toc-number">1.6.</span> <span class="post-toc-text">安全整数和 Number.isSafeInteger()</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Math-对象的扩展"><span class="post-toc-number">1.7.</span> <span class="post-toc-text">Math 对象的扩展</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#Math-trunc"><span class="post-toc-number">1.7.1.</span> <span class="post-toc-text">Math.trunc()</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#Math-sign"><span class="post-toc-number">1.7.2.</span> <span class="post-toc-text">Math.sign()</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#Math-cbrt"><span class="post-toc-number">1.7.3.</span> <span class="post-toc-text">Math.cbrt()</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#Math-clz32"><span class="post-toc-number">1.7.4.</span> <span class="post-toc-text">Math.clz32()</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#Math-imul"><span class="post-toc-number">1.7.5.</span> <span class="post-toc-text">Math.imul()</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#Math-fround"><span class="post-toc-number">1.7.6.</span> <span class="post-toc-text">Math.fround()</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#Math-hypot"><span class="post-toc-number">1.7.7.</span> <span class="post-toc-text">Math.hypot()</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#对数方法"><span class="post-toc-number">1.8.</span> <span class="post-toc-text">对数方法</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#三角函数方法"><span class="post-toc-number">1.9.</span> <span class="post-toc-text">三角函数方法</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#指数运算符"><span class="post-toc-number">1.10.</span> <span class="post-toc-text">指数运算符</span></a></li></ol></li></ol>
        </nav>
    </aside>


<article id="post-es6-Number" class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">es6_Number</h1>
        <div class="post-meta">
            <time class="post-time" title="2019-01-15 22:26:00" datetime="2019-01-15T14:26:00.000Z" itemprop="datePublished">2019-01-15</time>

            


            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style="display:none">
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h3 id="ES6-数值的扩展"><a href="#ES6-数值的扩展" class="headerlink" title="ES6 数值的扩展"></a>ES6 数值的扩展</h3><h4 id="二进制和八进制表示法"><a href="#二进制和八进制表示法" class="headerlink" title="二进制和八进制表示法"></a>二进制和八进制表示法</h4><p>ES6 提供了二进制和八进制数值的新的写法，分别用前缀 0b（或 0B）和 0o（或 0O）表示。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0b111110111 === 503 // <span class="literal">true</span></span><br><span class="line">0o767 === 503 // <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>从 ES5 开始，在严格模式之中，八进制就不再允许使用前缀 0 表示，ES6 进一步明确，要使用前缀 0o 表示。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 非严格模式</span><br><span class="line">(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">  console.log(0o11 === 011);</span><br><span class="line">&#125;)() // <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">// 严格模式</span><br><span class="line">(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">  <span class="string">'use strict'</span>;</span><br><span class="line">  console.log(0o11 === 011);</span><br><span class="line">&#125;)() // Uncaught SyntaxError: Octal literals are not allowed <span class="keyword">in</span> strict mode.</span><br></pre></td></tr></table></figure>
<p>如果要将 0b 和 0o 前缀的字符串数值转为十进制，要使用 Number 方法。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Number(<span class="string">'0b111'</span>)  // 7</span><br><span class="line">Number(<span class="string">'0o10'</span>)  // 8</span><br></pre></td></tr></table></figure>
<h4 id="Number-isFinite-Number-isNaN"><a href="#Number-isFinite-Number-isNaN" class="headerlink" title="Number.isFinite(), Number.isNaN()"></a>Number.isFinite(), Number.isNaN()</h4><p>ES6 在 Number 对象上，新提供了 Number.isFinite()和 Number.isNaN()两个方法。</p>
<p>Number.isFinite()用来检查一个数值是否为有限的（finite）。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Number.isFinite(15); // <span class="literal">true</span></span><br><span class="line">Number.isFinite(0.8); // <span class="literal">true</span></span><br><span class="line">Number.isFinite(NaN); // <span class="literal">false</span></span><br><span class="line">Number.isFinite(Infinity); // <span class="literal">false</span></span><br><span class="line">Number.isFinite(-Infinity); // <span class="literal">false</span></span><br><span class="line">Number.isFinite(<span class="string">'foo'</span>); // <span class="literal">false</span></span><br><span class="line">Number.isFinite(<span class="string">'15'</span>); // <span class="literal">false</span></span><br><span class="line">Number.isFinite(<span class="literal">true</span>); // <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>ES5 可以通过下面的代码，部署 Number.isFinite 方法。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> (global) &#123;</span><br><span class="line">  var global_isFinite = global.isFinite;</span><br><span class="line"></span><br><span class="line">  Object.defineProperty(Number, <span class="string">'isFinite'</span>, &#123;</span><br><span class="line">    value: <span class="keyword">function</span> isFinite(value) &#123;</span><br><span class="line">      <span class="built_in">return</span> typeof value === <span class="string">'number'</span> &amp;&amp; global_isFinite(value);</span><br><span class="line">    &#125;,</span><br><span class="line">    configurable: <span class="literal">true</span>,</span><br><span class="line">    enumerable: <span class="literal">false</span>,</span><br><span class="line">    writable: <span class="literal">true</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;)(this);</span><br></pre></td></tr></table></figure>
<p>Number.isNaN()用来检查一个值是否为 NaN。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Number.isNaN(NaN) // <span class="literal">true</span></span><br><span class="line">Number.isNaN(15) // <span class="literal">false</span></span><br><span class="line">Number.isNaN(<span class="string">'15'</span>) // <span class="literal">false</span></span><br><span class="line">Number.isNaN(<span class="literal">true</span>) // <span class="literal">false</span></span><br><span class="line">Number.isNaN(9/NaN) // <span class="literal">true</span></span><br><span class="line">Number.isNaN(<span class="string">'true'</span>/0) // <span class="literal">true</span></span><br><span class="line">Number.isNaN(<span class="string">'true'</span>/<span class="string">'true'</span>) // <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>ES5 通过下面的代码，部署 Number.isNaN()。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> (global) &#123;</span><br><span class="line">  var global_isNaN = global.isNaN;</span><br><span class="line"></span><br><span class="line">  Object.defineProperty(Number, <span class="string">'isNaN'</span>, &#123;</span><br><span class="line">    value: <span class="keyword">function</span> isNaN(value) &#123;</span><br><span class="line">      <span class="built_in">return</span> typeof value === <span class="string">'number'</span> &amp;&amp; global_isNaN(value);</span><br><span class="line">    &#125;,</span><br><span class="line">    configurable: <span class="literal">true</span>,</span><br><span class="line">    enumerable: <span class="literal">false</span>,</span><br><span class="line">    writable: <span class="literal">true</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;)(this);</span><br></pre></td></tr></table></figure>
<p>它们与传统的全局方法 isFinite()和 isNaN()的区别在于，传统方法先调用 Number()将非数值的值转为数值，再进行判断，而这两个新方法只对数值有效，非数值一律返回 false。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">isFinite(25) // <span class="literal">true</span></span><br><span class="line">isFinite(<span class="string">"25"</span>) // <span class="literal">true</span></span><br><span class="line">Number.isFinite(25) // <span class="literal">true</span></span><br><span class="line">Number.isFinite(<span class="string">"25"</span>) // <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">isNaN(NaN) // <span class="literal">true</span></span><br><span class="line">isNaN(<span class="string">"NaN"</span>) // <span class="literal">true</span></span><br><span class="line">Number.isNaN(NaN) // <span class="literal">true</span></span><br><span class="line">Number.isNaN(<span class="string">"NaN"</span>) // <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<h4 id="Number-parseInt-Number-parseFloat"><a href="#Number-parseInt-Number-parseFloat" class="headerlink" title="Number.parseInt(), Number.parseFloat()"></a>Number.parseInt(), Number.parseFloat()</h4><p>ES6 将全局方法 parseInt()和 parseFloat()，移植到 Number 对象上面，行为完全保持不变。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// ES5的写法</span><br><span class="line">parseInt(<span class="string">'12.34'</span>) // 12</span><br><span class="line">parseFloat(<span class="string">'123.45#'</span>) // 123.45</span><br><span class="line"></span><br><span class="line">// ES6的写法</span><br><span class="line">Number.parseInt(<span class="string">'12.34'</span>) // 12</span><br><span class="line">Number.parseFloat(<span class="string">'123.45#'</span>) // 123.45</span><br></pre></td></tr></table></figure>
<p>这样做的目的，是逐步减少全局性方法，使得语言逐步模块化。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Number.parseInt === parseInt // <span class="literal">true</span></span><br><span class="line">Number.parseFloat === parseFloat // <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h4 id="Number-isInteger"><a href="#Number-isInteger" class="headerlink" title="Number.isInteger()"></a>Number.isInteger()</h4><p>Number.isInteger()用来判断一个值是否为整数。需要注意的是，在 JavaScript 内部，整数和浮点数是同样的储存方法，所以 3 和 3.0 被视为同一个值。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Number.isInteger(25) // <span class="literal">true</span></span><br><span class="line">Number.isInteger(25.0) // <span class="literal">true</span></span><br><span class="line">Number.isInteger(25.1) // <span class="literal">false</span></span><br><span class="line">Number.isInteger(<span class="string">"15"</span>) // <span class="literal">false</span></span><br><span class="line">Number.isInteger(<span class="literal">true</span>) // <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>ES5 可以通过下面的代码，部署 Number.isInteger()。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> (global) &#123;</span><br><span class="line">  var floor = Math.floor,</span><br><span class="line">    isFinite = global.isFinite;</span><br><span class="line"></span><br><span class="line">  Object.defineProperty(Number, <span class="string">'isInteger'</span>, &#123;</span><br><span class="line">    value: <span class="keyword">function</span> isInteger(value) &#123;</span><br><span class="line">      <span class="built_in">return</span> typeof value === <span class="string">'number'</span> &amp;&amp; isFinite(value) &amp;&amp;</span><br><span class="line">        value &gt; -9007199254740992 &amp;&amp; value &lt; 9007199254740992 &amp;&amp;</span><br><span class="line">        floor(value) === value;</span><br><span class="line">    &#125;,</span><br><span class="line">    configurable: <span class="literal">true</span>,</span><br><span class="line">    enumerable: <span class="literal">false</span>,</span><br><span class="line">    writable: <span class="literal">true</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;)(this);</span><br></pre></td></tr></table></figure>
<h4 id="Number-EPSILON"><a href="#Number-EPSILON" class="headerlink" title="Number.EPSILON"></a>Number.EPSILON</h4><p>ES6 在 Number 对象上面，新增一个极小的常量 Number.EPSILON。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Number.EPSILON</span><br><span class="line">// 2.220446049250313e-16</span><br><span class="line">Number.EPSILON.toFixed(20)</span><br><span class="line">// <span class="string">'0.00000000000000022204'</span></span><br></pre></td></tr></table></figure>
<p>引入一个这么小的量的目的，在于为浮点数计算，设置一个误差范围。我们知道浮点数计算是不精确的。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">0.1 + 0.2</span><br><span class="line">// 0.30000000000000004</span><br><span class="line"></span><br><span class="line">0.1 + 0.2 - 0.3</span><br><span class="line">// 5.551115123125783e-17</span><br><span class="line"></span><br><span class="line">5.551115123125783e-17.toFixed(20)</span><br><span class="line">// <span class="string">'0.00000000000000005551'</span></span><br></pre></td></tr></table></figure>
<p>但是如果这个误差能够小于 Number.EPSILON，我们就可以认为得到了正确结果。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">5.551115123125783e-17 &lt; Number.EPSILON</span><br><span class="line">// <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>因此，Number.EPSILON 的实质是一个可以接受的误差范围。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> withinErrorMargin (left, right) &#123;</span><br><span class="line">  <span class="built_in">return</span> Math.abs(left - right) &lt; Number.EPSILON;</span><br><span class="line">&#125;</span><br><span class="line">withinErrorMargin(0.1 + 0.2, 0.3)</span><br><span class="line">// <span class="literal">true</span></span><br><span class="line">withinErrorMargin(0.2 + 0.2, 0.3)</span><br><span class="line">// <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>上面的代码为浮点数运算，部署了一个误差检查函数。</p>
<h4 id="安全整数和-Number-isSafeInteger"><a href="#安全整数和-Number-isSafeInteger" class="headerlink" title="安全整数和 Number.isSafeInteger()"></a>安全整数和 Number.isSafeInteger()</h4><p>JavaScript 能够准确表示的整数范围在-2^53 到 2^53 之间（不含两个端点），超过这个范围，无法精确表示这个值。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Math.pow(2, 53) // 9007199254740992</span><br><span class="line"></span><br><span class="line">9007199254740992  // 9007199254740992</span><br><span class="line">9007199254740993  // 9007199254740992</span><br><span class="line"></span><br><span class="line">Math.pow(2, 53) === Math.pow(2, 53) + 1</span><br><span class="line">// <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>上面代码中，超出 2 的 53 次方之后，一个数就不精确了。</p>
<p>ES6 引入了 Number.MAX_SAFE_INTEGER 和 Number.MIN_SAFE_INTEGER 这两个常量，用来表示这个范围的上下限。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Number.MAX_SAFE_INTEGER === Math.pow(2, 53) - 1</span><br><span class="line">// <span class="literal">true</span></span><br><span class="line">Number.MAX_SAFE_INTEGER === 9007199254740991</span><br><span class="line">// <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">Number.MIN_SAFE_INTEGER === -Number.MAX_SAFE_INTEGER</span><br><span class="line">// <span class="literal">true</span></span><br><span class="line">Number.MIN_SAFE_INTEGER === -9007199254740991</span><br><span class="line">// <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>上面代码中，可以看到 JavaScript 能够精确表示的极限。</p>
<p>Number.isSafeInteger()则是用来判断一个整数是否落在这个范围之内。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Number.isSafeInteger(<span class="string">'a'</span>) // <span class="literal">false</span></span><br><span class="line">Number.isSafeInteger(null) // <span class="literal">false</span></span><br><span class="line">Number.isSafeInteger(NaN) // <span class="literal">false</span></span><br><span class="line">Number.isSafeInteger(Infinity) // <span class="literal">false</span></span><br><span class="line">Number.isSafeInteger(-Infinity) // <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">Number.isSafeInteger(3) // <span class="literal">true</span></span><br><span class="line">Number.isSafeInteger(1.2) // <span class="literal">false</span></span><br><span class="line">Number.isSafeInteger(9007199254740990) // <span class="literal">true</span></span><br><span class="line">Number.isSafeInteger(9007199254740992) // <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">Number.isSafeInteger(Number.MIN_SAFE_INTEGER - 1) // <span class="literal">false</span></span><br><span class="line">Number.isSafeInteger(Number.MIN_SAFE_INTEGER) // <span class="literal">true</span></span><br><span class="line">Number.isSafeInteger(Number.MAX_SAFE_INTEGER) // <span class="literal">true</span></span><br><span class="line">Number.isSafeInteger(Number.MAX_SAFE_INTEGER + 1) // <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>这个函数的实现很简单，就是跟安全整数的两个边界值比较一下。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Number.isSafeInteger = <span class="keyword">function</span> (n) &#123;</span><br><span class="line">  <span class="built_in">return</span> (typeof n === <span class="string">'number'</span> &amp;&amp;</span><br><span class="line">    Math.round(n) === n &amp;&amp;</span><br><span class="line">    Number.MIN_SAFE_INTEGER &lt;= n &amp;&amp;</span><br><span class="line">    n &lt;= Number.MAX_SAFE_INTEGER);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>实际使用这个函数时，需要注意。验证运算结果是否落在安全整数的范围内，不要只验证运算结果，而要同时验证参与运算的每个值。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Number.isSafeInteger(9007199254740993)</span><br><span class="line">// <span class="literal">false</span></span><br><span class="line">Number.isSafeInteger(990)</span><br><span class="line">// <span class="literal">true</span></span><br><span class="line">Number.isSafeInteger(9007199254740993 - 990)</span><br><span class="line">// <span class="literal">true</span></span><br><span class="line">9007199254740993 - 990</span><br><span class="line">// 返回结果 9007199254740002</span><br><span class="line">// 正确答案应该是 9007199254740003</span><br></pre></td></tr></table></figure>
<p>上面代码中，9007199254740993 不是一个安全整数，但是 Number.isSafeInteger 会返回结果，显示计算结果是安全的。这是因为，这个数超出了精度范围，导致在计算机内部，以 9007199254740992 的形式储存。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">9007199254740993 === 9007199254740992</span><br><span class="line">// <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>所以，如果只验证运算结果是否为安全整数，很可能得到错误结果。下面的函数可以同时验证两个运算数和运算结果。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> trusty (left, right, result) &#123;</span><br><span class="line">  <span class="keyword">if</span> (</span><br><span class="line">    Number.isSafeInteger(left) &amp;&amp;</span><br><span class="line">    Number.isSafeInteger(right) &amp;&amp;</span><br><span class="line">    Number.isSafeInteger(result)</span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="built_in">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line">  throw new RangeError(<span class="string">'Operation cannot be trusted!'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">trusty(9007199254740993, 990, 9007199254740993 - 990)</span><br><span class="line">// RangeError: Operation cannot be trusted!</span><br><span class="line"></span><br><span class="line">trusty(1, 2, 3)</span><br><span class="line">// 3</span><br></pre></td></tr></table></figure>
<h4 id="Math-对象的扩展"><a href="#Math-对象的扩展" class="headerlink" title="Math 对象的扩展"></a>Math 对象的扩展</h4><p>ES6 在 Math 对象上新增了 17 个与数学相关的方法。所有这些方法都是静态方法，只能在 Math 对象上调用。</p>
<h5 id="Math-trunc"><a href="#Math-trunc" class="headerlink" title="Math.trunc()"></a>Math.trunc()</h5><p>Math.trunc 方法用于去除一个数的小数部分，返回整数部分。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Math.trunc(4.1) // 4</span><br><span class="line">Math.trunc(4.9) // 4</span><br><span class="line">Math.trunc(-4.1) // -4</span><br><span class="line">Math.trunc(-4.9) // -4</span><br><span class="line">Math.trunc(-0.1234) // -0</span><br></pre></td></tr></table></figure>
<p>对于非数值，Math.trunc 内部使用 Number 方法将其先转为数值。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Math.trunc(<span class="string">'123.456'</span>)</span><br><span class="line">// 123</span><br></pre></td></tr></table></figure>
<p>对于空值和无法截取整数的值，返回 NaN。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Math.trunc(NaN);      // NaN</span><br><span class="line">Math.trunc(<span class="string">'foo'</span>);    // NaN</span><br><span class="line">Math.trunc();         // NaN</span><br></pre></td></tr></table></figure>
<p>对于没有部署这个方法的环境，可以用下面的代码模拟。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Math.trunc = Math.trunc || <span class="keyword">function</span>(x) &#123;</span><br><span class="line">  <span class="built_in">return</span> x &lt; 0 ? Math.ceil(x) : Math.floor(x);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h5 id="Math-sign"><a href="#Math-sign" class="headerlink" title="Math.sign()"></a>Math.sign()</h5><p>Math.sign 方法用来判断一个数到底是正数、负数、还是零。</p>
<p>它会返回五种值。</p>
<pre>
参数为正数，返回+1；
参数为负数，返回-1；
参数为 0，返回 0；
参数为-0，返回-0;
其他值，返回 NaN。
</pre>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Math.sign(-5) // -1</span><br><span class="line">Math.sign(5) // +1</span><br><span class="line">Math.sign(0) // +0</span><br><span class="line">Math.sign(-0) // -0</span><br><span class="line">Math.sign(NaN) // NaN</span><br><span class="line">Math.sign(<span class="string">'foo'</span>); // NaN</span><br><span class="line">Math.sign();      // NaN</span><br></pre></td></tr></table></figure>
<p>对于没有部署这个方法的环境，可以用下面的代码模拟。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Math.sign = Math.sign || <span class="keyword">function</span>(x) &#123;</span><br><span class="line">  x = +x; // convert to a number</span><br><span class="line">  <span class="keyword">if</span> (x === 0 || isNaN(x)) &#123;</span><br><span class="line">    <span class="built_in">return</span> x;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">return</span> x &gt; 0 ? 1 : -1;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h5 id="Math-cbrt"><a href="#Math-cbrt" class="headerlink" title="Math.cbrt()"></a>Math.cbrt()</h5><p>Math.cbrt 方法用于计算一个数的立方根。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Math.cbrt(-1) // -1</span><br><span class="line">Math.cbrt(0)  // 0</span><br><span class="line">Math.cbrt(1)  // 1</span><br><span class="line">Math.cbrt(2)  // 1.2599210498948734</span><br></pre></td></tr></table></figure>
<p>对于非数值，Math.cbrt 方法内部也是先使用 Number 方法将其转为数值。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Math.cbrt(<span class="string">'8'</span>) // 2</span><br><span class="line">Math.cbrt(<span class="string">'hello'</span>) // NaN</span><br></pre></td></tr></table></figure>
<p>对于没有部署这个方法的环境，可以用下面的代码模拟。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Math.cbrt = Math.cbrt || <span class="keyword">function</span>(x) &#123;</span><br><span class="line">  var y = Math.pow(Math.abs(x), 1/3);</span><br><span class="line">  <span class="built_in">return</span> x &lt; 0 ? -y : y;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h5 id="Math-clz32"><a href="#Math-clz32" class="headerlink" title="Math.clz32()"></a>Math.clz32()</h5><p>JavaScript 的整数使用 32 位二进制形式表示，Math.clz32 方法返回一个数的 32 位无符号整数形式有多少个前导 0。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Math.clz32(0) // 32</span><br><span class="line">Math.clz32(1) // 31</span><br><span class="line">Math.clz32(1000) // 22</span><br><span class="line">Math.clz32(0b01000000000000000000000000000000) // 1</span><br><span class="line">Math.clz32(0b00100000000000000000000000000000) // 2</span><br></pre></td></tr></table></figure>
<p>上面代码中，0 的二进制形式全为 0，所以有 32 个前导 0；1 的二进制形式是 0b1，只占 1 位，所以 32 位之中有 31 个前导 0；1000 的二进制形式是 0b1111101000，一共有 10 位，所以 32 位之中有 22 个前导 0。</p>
<p>clz32 这个函数名就来自”count leading zero bits in 32-bit binary representations of a number“（计算 32 位整数的前导 0）的缩写。</p>
<p>左移运算符（&lt;&lt;）与 Math.clz32 方法直接相关。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Math.clz32(0) // 32</span><br><span class="line">Math.clz32(1) // 31</span><br><span class="line">Math.clz32(1 &lt;&lt; 1) // 30</span><br><span class="line">Math.clz32(1 &lt;&lt; 2) // 29</span><br><span class="line">Math.clz32(1 &lt;&lt; 29) // 2</span><br></pre></td></tr></table></figure>
<p>对于小数，Math.clz32 方法只考虑整数部分。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Math.clz32(3.2) // 30</span><br><span class="line">Math.clz32(3.9) // 30</span><br></pre></td></tr></table></figure>
<p>对于空值或其他类型的值，Math.clz32 方法会将它们先转为数值，然后再计算。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Math.clz32() // 32</span><br><span class="line">Math.clz32(NaN) // 32</span><br><span class="line">Math.clz32(Infinity) // 32</span><br><span class="line">Math.clz32(null) // 32</span><br><span class="line">Math.clz32(<span class="string">'foo'</span>) // 32</span><br><span class="line">Math.clz32([]) // 32</span><br><span class="line">Math.clz32(&#123;&#125;) // 32</span><br><span class="line">Math.clz32(<span class="literal">true</span>) // 31</span><br></pre></td></tr></table></figure>
<h5 id="Math-imul"><a href="#Math-imul" class="headerlink" title="Math.imul()"></a>Math.imul()</h5><p>Math.imul 方法返回两个数以 32 位带符号整数形式相乘的结果，返回的也是一个 32 位的带符号整数。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Math.imul(2, 4)   // 8</span><br><span class="line">Math.imul(-1, 8)  // -8</span><br><span class="line">Math.imul(-2, -2) // 4</span><br></pre></td></tr></table></figure>
<p>如果只考虑最后 32 位，大多数情况下，Math.imul(a, b)与 a _ b 的结果是相同的，即该方法等同于(a _ b)|0 的效果（超过 32 位的部分溢出）。之所以需要部署这个方法，是因为 JavaScript 有精度限制，超过 2 的 53 次方的值无法精确表示。这就是说，对于那些很大的数的乘法，低位数值往往都是不精确的，Math.imul 方法可以返回正确的低位数值。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(0x7fffffff * 0x7fffffff)|0 // 0</span><br></pre></td></tr></table></figure>
<p>上面这个乘法算式，返回结果为 0。但是由于这两个二进制数的最低位都是 1，所以这个结果肯定是不正确的，因为根据二进制乘法，计算结果的二进制最低位应该也是 1。这个错误就是因为它们的乘积超过了 2 的 53 次方，JavaScript 无法保存额外的精度，就把低位的值都变成了 0。Math.imul 方法可以返回正确的值 1。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Math.imul(0x7fffffff, 0x7fffffff) // 1</span><br></pre></td></tr></table></figure>
<h5 id="Math-fround"><a href="#Math-fround" class="headerlink" title="Math.fround()"></a>Math.fround()</h5><p>Math.fround 方法返回一个数的单精度浮点数形式。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Math.fround(0)     // 0</span><br><span class="line">Math.fround(1)     // 1</span><br><span class="line">Math.fround(1.337) // 1.3370000123977661</span><br><span class="line">Math.fround(1.5)   // 1.5</span><br><span class="line">Math.fround(NaN)   // NaN</span><br></pre></td></tr></table></figure>
<p>对于整数来说，Math.fround 方法返回结果不会有任何不同，区别主要是那些无法用 64 个二进制位精确表示的小数。这时，Math.fround 方法会返回最接近这个小数的单精度浮点数。</p>
<p>对于没有部署这个方法的环境，可以用下面的代码模拟。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Math.fround = Math.fround || <span class="keyword">function</span>(x) &#123;</span><br><span class="line">  <span class="built_in">return</span> new Float32Array([x])[0];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h5 id="Math-hypot"><a href="#Math-hypot" class="headerlink" title="Math.hypot()"></a>Math.hypot()</h5><p>Math.hypot 方法返回所有参数的平方和的平方根。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Math.hypot(3, 4);        // 5</span><br><span class="line">Math.hypot(3, 4, 5);     // 7.0710678118654755</span><br><span class="line">Math.hypot();            // 0</span><br><span class="line">Math.hypot(NaN);         // NaN</span><br><span class="line">Math.hypot(3, 4, <span class="string">'foo'</span>); // NaN</span><br><span class="line">Math.hypot(3, 4, <span class="string">'5'</span>);   // 7.0710678118654755</span><br><span class="line">Math.hypot(-3);          // 3</span><br></pre></td></tr></table></figure>
<p>上面代码中，3 的平方加上 4 的平方，等于 5 的平方。</p>
<p>如果参数不是数值，Math.hypot 方法会将其转为数值。只要有一个参数无法转为数值，就会返回 NaN。</p>
<h4 id="对数方法"><a href="#对数方法" class="headerlink" title="对数方法"></a>对数方法</h4><p>ES6 新增了 4 个对数相关方法。</p>
<p>（1） Math.expm1()</p>
<p>Math.expm1(x)返回 ex - 1，即 Math.exp(x) - 1。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Math.expm1(-1) // -0.6321205588285577</span><br><span class="line">Math.expm1(0)  // 0</span><br><span class="line">Math.expm1(1)  // 1.718281828459045</span><br></pre></td></tr></table></figure>
<p>对于没有部署这个方法的环境，可以用下面的代码模拟。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Math.expm1 = Math.expm1 || <span class="keyword">function</span>(x) &#123;</span><br><span class="line">  <span class="built_in">return</span> Math.exp(x) - 1;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>（2）Math.log1p()</p>
<p>Math.log1p(x)方法返回 1 + x 的自然对数，即 Math.log(1 + x)。如果 x 小于-1，返回 NaN。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Math.log1p(1)  // 0.6931471805599453</span><br><span class="line">Math.log1p(0)  // 0</span><br><span class="line">Math.log1p(-1) // -Infinity</span><br><span class="line">Math.log1p(-2) // NaN</span><br></pre></td></tr></table></figure>
<p>对于没有部署这个方法的环境，可以用下面的代码模拟。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Math.log1p = Math.log1p || <span class="keyword">function</span>(x) &#123;</span><br><span class="line">  <span class="built_in">return</span> Math.log(1 + x);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>（3）Math.log10()</p>
<p>Math.log10(x)返回以 10 为底的 x 的对数。如果 x 小于 0，则返回 NaN。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Math.log10(2)      // 0.3010299956639812</span><br><span class="line">Math.log10(1)      // 0</span><br><span class="line">Math.log10(0)      // -Infinity</span><br><span class="line">Math.log10(-2)     // NaN</span><br><span class="line">Math.log10(100000) // 5</span><br></pre></td></tr></table></figure>
<p>对于没有部署这个方法的环境，可以用下面的代码模拟。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Math.log10 = Math.log10 || <span class="keyword">function</span>(x) &#123;</span><br><span class="line">  <span class="built_in">return</span> Math.log(x) / Math.LN10;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>（4）Math.log2()</p>
<p>Math.log2(x)返回以 2 为底的 x 的对数。如果 x 小于 0，则返回 NaN。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Math.log2(3)       // 1.584962500721156</span><br><span class="line">Math.log2(2)       // 1</span><br><span class="line">Math.log2(1)       // 0</span><br><span class="line">Math.log2(0)       // -Infinity</span><br><span class="line">Math.log2(-2)      // NaN</span><br><span class="line">Math.log2(1024)    // 10</span><br><span class="line">Math.log2(1 &lt;&lt; 29) // 29</span><br></pre></td></tr></table></figure>
<p>对于没有部署这个方法的环境，可以用下面的代码模拟。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Math.log2 = Math.log2 || <span class="keyword">function</span>(x) &#123;</span><br><span class="line">  <span class="built_in">return</span> Math.log(x) / Math.LN2;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="三角函数方法"><a href="#三角函数方法" class="headerlink" title="三角函数方法"></a>三角函数方法</h4><p>ES6 新增了 6 个三角函数方法。</p>
<p>1.Math.sinh(x) 返回 x 的双曲正弦（hyperbolic sine）<br>2.Math.cosh(x) 返回 x 的双曲余弦（hyperbolic cosine）<br>3.Math.tanh(x) 返回 x 的双曲正切（hyperbolic tangent）<br>4.Math.asinh(x) 返回 x 的反双曲正弦（inverse hyperbolic sine）<br>5.Math.acosh(x) 返回 x 的反双曲余弦（inverse hyperbolic cosine）<br>6.Math.atanh(x) 返回 x 的反双曲正切（inverse hyperbolic tangent）</p>
<h4 id="指数运算符"><a href="#指数运算符" class="headerlink" title="指数运算符"></a>指数运算符</h4><p>ES7 新增了一个指数运算符（**），目前 Babel 转码器已经支持。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2 ** 2 // 4</span><br><span class="line">2 ** 3 // 8</span><br></pre></td></tr></table></figure>
<p>指数运算符可以与等号结合，形成一个新的赋值运算符（**=）。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> a = 2;</span><br><span class="line">a **= 2;</span><br><span class="line">// 等同于 a = a * a;</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> b = 3;</span><br><span class="line">b **= 3;</span><br><span class="line">// 等同于 b = b * b * b;</span><br></pre></td></tr></table></figure>

        </div>

        <blockquote class="post-copyright">
    
    <footer>
        <a href="http://blog.bochunhao.cn">
            <img src="/img/loggo.png" alt="BCH">
            BCH
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/es6/">es6</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.bochunhao.cn/2019/01/15/es6-Number/&title=《es6_Number》 — 个人博客&pic=http://blog.bochunhao.cn/img/loggo.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.bochunhao.cn/2019/01/15/es6-Number/&title=《es6_Number》 — 个人博客&source=bch_bk" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.bochunhao.cn/2019/01/15/es6-Number/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《es6_Number》 — 个人博客&url=http://blog.bochunhao.cn/2019/01/15/es6-Number/&via=http://blog.bochunhao.cn" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.bochunhao.cn/2019/01/15/es6-Number/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between flex-row-reverse">
  

  
    <div class="waves-block waves-effect next">
      <a href="/2019/01/10/es6-RegExp/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">es6_RegExp</h4>
      </a>
    </div>
  
</nav>



    




















</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        感谢支持
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/vx.png" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check" data-wechat="/img/vx.png" data-alipay="/img/zfb.png">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <p>个人博客 &copy; 2019</p>
    <p style="color:#fff;font-size: 16px;font-weight:bolder">
        不积跬步，无以至千里
    </p>
    <p style="color:#fff;font-size: 16px;font-weight:bolder">
        不积小流，无以成江海
    </p>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.bochunhao.cn/2019/01/15/es6-Number/&title=《es6_Number》 — 个人博客&pic=http://blog.bochunhao.cn/img/loggo.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.bochunhao.cn/2019/01/15/es6-Number/&title=《es6_Number》 — 个人博客&source=bch_bk" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.bochunhao.cn/2019/01/15/es6-Number/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《es6_Number》 — 个人博客&url=http://blog.bochunhao.cn/2019/01/15/es6-Number/&via=http://blog.bochunhao.cn" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.bochunhao.cn/2019/01/15/es6-Number/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACM0lEQVR42u3ay27CQAwFUP7/p6nUVVFFuLahapyTVYQCmTMLM37cbvF1/75+3lev41/7/cu3T1wYGBinZSSvP37Z8fPHb3n2TL42DAyM6zDyIPvsBXlInWzH088xMDAwggNc9WiYUzEwMDB6AbcampMtwMDAwDhmJElsHkCTmliS3H4kF8fAwDgho9cY+Jv7j/c3MDAw/j1j0oZMgumkeFdYFQYGxmrGcbsxj2y9Rua7fhMDA+M6jLwQ1iv9VwfOyoNiGBgYqxkJJn++2hiopq8vVoiBgbGOkR8B57FuEkZffBcDA2M1Y5LKVgcj8mNfvh0YGBhXYPQW0Uti8wGOpAD3cI+BgbGa0SuNTca/euE+GlDDwMBYysiHtKqDFJNGQjl8Y2BgrGbkC5oX1/IDaHWDMDAwrsOoBsp5s7NX8itUDTEwMBYxqglnvje9Elsz4GJgYCxl5IX7vOj23iNj9F4MDIwLMJKAWwVPDpr5H8BDwMXAwFjKOF50XsSfNDUnjYQoA8bAwDg5I7fmTc28JFdti0ZHQwwMjKWM3kJ7r8+T2MLfAAYGxmpG8oVqmjppGDTLbRgYGKsZ9+LVq8NPkFFrAQMDYzUjv/KAmC80T5jnQyEYGBhnZ+RBNg+OScMgbzyUp9swMDCWMt5bOOsBRgEdAwMDI1joZLBsPsyBgYGB0RveqgbZ6gBH82iIgYFxWkbeDOg1NZOtyduo5UYmBgbGyRmTBLJXxO9hqqkyBgbGCsYXwzWodu0apiMAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="/js/main.min.js?v=1.7.2"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.7.2" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '快回来看我呀！';
            clearTimeout(titleTime);
        } else {
            document.title = '个人博客';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
